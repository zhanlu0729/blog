## 求取一份极致的简单：全链路跟踪中间件探索之路
01. **背景**
02. **设计目标**
03. **产品架构**
04. **追本溯源**
05. **传递之道**
06. **落地之机**
07. **改造之旅**

---
### 01. 背景
    公司内部的业务系统有近千个，基本上很少有比较孤立的；尤其外部系统，即便用户在页面上一个很普通的操作，后台也需要少则几个多则几十个服务协同完成。以前我们定位调用链上的问题方式，基本上都是叫上调用链上所有对服务比较熟悉的技术人员，定位问题费时费力；由此，我们团队决定引入一套全链路跟踪中间件产品。
    起初，我们全面调研了社区很多比较成熟的产品之后，发现这些产品与我们公司现存场景多有不符的地方，主要的一点就是我们公司内部应用之间通信方式的多样化。各业务部门之间技术栈极不统一，各业务部门内部的应用之间以及各业务部门应用之间的通信方式自然也多种多样，公开服务的方式包括：REST、RabbitMQ、Dubbo、RMI、Zookeeper等，调用服务的方式包括：OkHttp 2.x、OkHttp 3.x 、Apache HttpClient、Spring RestTemplate、RabbitMQ、Dubbo、RMI、Zookeeper等。我们在自研这套产品过程中，首先参考了谷歌公开的《Dapper大规模分布式系统的跟踪系统》这篇论文，借鉴了社区类似产品的很多思路和理念，像Twitter的Zipkin、阿里的鹰眼、去哪儿网的QTracer、GitHub上开源的PinPoint等产品。
